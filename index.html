<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Language Mapping and Geospatial Analysis of Linguistic and Cultural Data • glottospace</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Language Mapping and Geospatial Analysis of Linguistic and Cultural Data">
<meta property="og:description" content="Streamlined workflows for geolinguistic analysis, including: accessing global linguistic and cultural databases, data import, data entry, data cleaning, data exploration, mapping, visualization and export.">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">glottospace</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.113</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/glottospace/glottospace/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="glottospace-language-mapping-and-geospatial-analysis-of-linguistic-and-cultural-data-">glottospace: Language Mapping and Geospatial Analysis of Linguistic and Cultural Data <img src="reference/figures/logo.png" align="right" height="139"><a class="anchor" aria-label="anchor" href="#glottospace-language-mapping-and-geospatial-analysis-of-linguistic-and-cultural-data-"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
</div>
<div class="section level1">
<h1 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h1>
<p>The <strong>glottospace</strong> package facilitates the geospatial analysis of linguistic and cultural data. The aim of this package is to provide a streamlined workflow for working with spatio-linguistic data, including data import, cleaning, exploration, visualization and export. For example, with <strong>glottospace</strong> you can quickly match your own linguistic data to a location and plot it on a map. You can also calculate distances between languages based on their location or linguistic features and visualize those distances. In addition, with <strong>glottospace</strong> you can easily access global databases such as <a href="https://glottolog.org/" class="external-link">glottolog</a>, <a href="https://wals.info/" class="external-link">WALS</a>, <a href="https://grambank.clld.org/" class="external-link">Grambank</a>, <a href="https://d-place.org/" class="external-link">D-PLACE</a> and <a href="https://phoible.org/" class="external-link">Phoible</a> from R and integrate them with your own data.</p>
</div>
<div class="section level1">
<h1 id="development">Development<a class="anchor" aria-label="anchor" href="#development"></a>
</h1>
<p>We’re still actively developing the <strong>glottospace</strong> package by adding new functions and improving existing ones. Although the package is stable, you might find bugs or encounter things you might find confusing. You can help us to improve the package by:</p>
<ul>
<li>Sending an email to <a href="mailto:r.dong@hum.leidenuniv.nl">Rui Dong</a> with a clear description of the issue or error message.<br>
</li>
<li>Opening a new issue in the <a href="https://github.com/glottospace/glottospace/issues" class="external-link">glottospace issues page on GitHub</a>
</li>
<li>Fixing a bug or adding functionality and submit a <a href="https://github.com/glottospace/glottospace/pulls" class="external-link">pull request on GitHub</a>.</li>
</ul>
</div>
<div class="section level1">
<h1 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h1>
<p>If you find <strong>glottospace</strong> useful, please cite it in your work:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co">#&gt; To cite glottospace in publications use:</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="co">#&gt;   Norder, S.J. et al. (2022). glottospace: R package for language</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="co">#&gt;   mapping and geospatial analysis of linguistic and cultural data.</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="co">#&gt;   Journal of Open Source Software, 7(77), 4303,</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="co">#&gt;   https://doi.org/10.21105/joss.04303</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="co">#&gt; A BibTeX entry for LaTeX users is</span></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a><span class="co">#&gt;   @Article{,</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="co">#&gt;     title = {glottospace: R package for the geospatial analysis of linguistic and cultural data},</span></span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="co">#&gt;     author = {Sietze Norder and Laura Becker and Hedvig Skirgård and Leonardo Arias and Alena Witzlack-Makarevich and Rik {van Gijn}},</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="co">#&gt;     journal = {Journal of Open Source Software},</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="co">#&gt;     year = {2022},</span></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="co">#&gt;     volume = {7},</span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="co">#&gt;     number = {77},</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a><span class="co">#&gt;     pages = {4303},</span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a><span class="co">#&gt;     url = {glottospace: R package for language mapping and geospatial analysis of linguistic and cultural data},</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a><span class="co">#&gt;   }</span></span></code></pre></div>
<p>The package uses four global databases: <a href="https://glottolog.org/" class="external-link">glottolog</a>, <a href="https://wals.info/" class="external-link">WALS</a>, <a href="https://grambank.clld.org/" class="external-link">Grambank</a> and <a href="https://phoible.org/" class="external-link">Phoible</a>. In addition, <strong>glottospace</strong> builds on a combination of <a href="https://www.r-pkg.org/ctv/Spatial" class="external-link">spatial</a> and non-spatial packages, including <strong>sf</strong>, <strong>terra</strong>, <strong>tmap</strong>, <strong>mapview</strong>, <strong>rnaturalearth</strong>, and <strong>dplyr</strong>. If you use <strong>glottospace</strong> in one of your publications, please cite these data sources and packages as well.</p>
</div>
<div class="section level1">
<h1 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h1>
<p>You can install the latest release of glottospace from <a href="https://CRAN.R-project.org/package=glottospace" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("glottospace")</span></span>
<span><span class="co"># If you receive the message 'loading failed for 'i386', you can try:</span></span>
<span><span class="co"># install.packages("glottospace", INSTALL_opts = "--no-multiarch")</span></span></code></pre></div>
<p>You can install the development version of glottospace from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="co"># devtools::install_github("glottospace/glottospace", INSTALL_opts=c("--no-multiarch"))</span></span></code></pre></div>
</div>
<div class="section level1">
<h1 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h1>
<p>Before describing the functionality of <strong>glottospace</strong>, we give a quick demonstration of a typical workflow.</p>
<div class="section level2">
<h2 id="plotting-language-locations-on-a-map">Plotting language locations on a map<a class="anchor" aria-label="anchor" href="#plotting-language-locations-on-a-map"></a>
</h2>
<p>Imagine you’re working with languages in a particular region, and want to visualize them on a map. With glottospace this is easy! You could for example filter all languages in South America, and show which ones of them are isolate languages:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/glottospace/glottospace" class="external-link">glottospace</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Plot point data:</span></span>
<span><span class="fu"><a href="reference/glottomap.html">glottomap</a></span><span class="op">(</span>continent <span class="op">=</span> <span class="st">"South America"</span>, color <span class="op">=</span> <span class="st">"isolate"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout</span></span>
<span><span class="co">#&gt; all geometries</span></span></code></pre></div>
<p><img src="reference/figures/README-example_glottomap-1.png" width="100%"></p>
<p>Languages are often represented with points, while in reality the speakers of a language can inhabit vast areas. glottospace works with point and polygon data. When polygon data is not available, you can interpolate the points and plot those.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Filter by continent</span></span>
<span><span class="va">glottopoints</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>continent <span class="op">=</span> <span class="st">"South America"</span><span class="op">)</span></span>
<span><span class="co"># Interpolate points to polygons:</span></span>
<span><span class="va">glottopols</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottospace.html">glottospace</a></span><span class="op">(</span><span class="va">glottopoints</span>, method <span class="op">=</span> <span class="st">"voronoi"</span><span class="op">)</span></span>
<span><span class="co"># Plot polygon data:</span></span>
<span><span class="fu"><a href="reference/glottomap.html">glottomap</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="va">glottopols</span>, color <span class="op">=</span> <span class="st">"family_size_rank"</span>, palette <span class="op">=</span> <span class="st">"tol.yl_or_br"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout</span></span>
<span><span class="co">#&gt; all geometries</span></span>
<span><span class="co">#&gt; Warning: Number of levels of the variable assigned to the aesthetic "fill" of</span></span>
<span><span class="co">#&gt; the layer "polygons" is 19, which is larger than n.max (which is 5), so levels</span></span>
<span><span class="co">#&gt; are combined.</span></span></code></pre></div>
<p><img src="reference/figures/README-example_glottopols-1.png" width="100%"></p>
</div>
</div>
<div class="section level1">
<h1 id="workflow-of-glottospace">Workflow of glottospace<a class="anchor" aria-label="anchor" href="#workflow-of-glottospace"></a>
</h1>
<p>The glottospace package offers a wide range of functions to work with spatio-linguistic data. The functions are organized into the following function families, of which the core function generally has the same name as the family to which it belongs:</p>
<ol style="list-style-type: decimal">
<li><p>glottoget: download glottodata from remote server, or load locally stored glottodata.</p></li>
<li><p>glottocreate: create empty glottodata structure, to add data manually.</p></li>
<li><p>glottocheck: run interactive quality checks of user-provided glottodata.</p></li>
<li><p>glottoclean: clean-up glottodata.</p></li>
<li><p>glottojoin: join user-provided glottodata with other (often online) datasets.</p></li>
<li><p>glottosearch: search <a href="https://glottolog.org/" class="external-link">glottolog</a> database for languages, language families, glottocodes, etc.</p></li>
<li><p>glottofilter: filter/subset glottodata based on linguistic and geographic features/variables.</p></li>
<li><p>glottodist: calculate differences/similarities between languages based on their features (linguistic, cultural, environmental, geographic, etc.).</p></li>
<li><p>glottodist_subdata: calculate differences/similarities between languages based on their constructions.</p></li>
<li><p>glottoplot: visualize differences/similarities between languages.</p></li>
<li><p>glottospace: make glottodata spatial, add coordinates, add spatial points or polygons to languages.</p></li>
<li><p>glottomap: visualize linguistic and cultural data on a map.</p></li>
<li><p>glottomap_rips_filt: visualize the Vietoris-Rips filtration.</p></li>
<li><p>glottomap_persist_diagram: create the persistence diagram with respect to geospatial points.</p></li>
<li><p>glottosave: save output generated by glottospace (data, figures, maps, etc.).</p></li>
</ol>
<div class="section level2">
<h2 id="glottoget">glottoget<a class="anchor" aria-label="anchor" href="#glottoget"></a>
</h2>
<p>You can load locally stored glottodata (for example from an excel file or shapefile). The glottospace package has two built-in artificial demo datasets (“demodata” and “demosubdata”).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="st">"demodata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">glottodata</span><span class="op">)</span></span>
<span><span class="co">#&gt;   glottocode var001 var002 var003</span></span>
<span><span class="co">#&gt; 1   yucu1253      Y      a      N</span></span>
<span><span class="co">#&gt; 2   tani1257   &lt;NA&gt;      b      Y</span></span>
<span><span class="co">#&gt; 3   ticu1245      Y      a      Y</span></span>
<span><span class="co">#&gt; 4   orej1242      N      b      N</span></span>
<span><span class="co">#&gt; 5   nade1244      N      c      Y</span></span>
<span><span class="co">#&gt; 6   mara1409      N      a      N</span></span></code></pre></div>
<p>You can also load glottodata from online databases such as <a href="https://glottolog.org/" class="external-link">glottolog</a>. You can download a raw version of the data (‘glottolog’), or an enriched/boosted version (‘glottobase’):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To load glottobase:</span></span>
<span><span class="va">glottobase</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="st">"glottobase"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">glottobase</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "glottocode"       "name"             "macroarea"        "isocode"         </span></span>
<span><span class="co">#&gt;  [5] "countries"        "family_id"        "classification"   "parent_id"       </span></span>
<span><span class="co">#&gt;  [9] "family"           "isolate"          "family_size"      "family_size_rank"</span></span>
<span><span class="co">#&gt; [13] "country"          "sovereignty"      "type"             "geounit"         </span></span>
<span><span class="co">#&gt; [17] "continent"        "adm0_a3"          "geometry"</span></span></code></pre></div>
<p>In the case of <a href="https://phoible.org/" class="external-link">Phoible</a>, you can load it in multiple different ways. When you set glottodata to be “phoible_raw” or “phoiblespace_raw”, you can load the non-spatial/spatial-enhanced version of raw data of <a href="https://phoible.org/" class="external-link">Phoible</a>. In the case of spatial-enhanced version, the Parameter ID’s that all values are “absent” are removed.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># To load phoible_raw:</span></span>
<span><span class="va">phoible_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"phoible_raw"</span>, download <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To load phoiblespace_raw:</span></span>
<span><span class="va">phoiblespace_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"phoiblespace_raw"</span>, download <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>When glottodata = “phoible” or “phoiblespace”, you randomly choose only one sample for all the duplicated glottocodes, and you can load the non-spatial/spatial-enhanced version of <a href="https://phoible.org/" class="external-link">Phoible</a>. If you fix the value of seed, you can make a reproducible output. In the case of spatial-enhanced version, the Parameter ID’s that all values are “absent” are removed.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">phoible</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"phoible"</span>, seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span>
<span></span>
<span><span class="va">phoiblespace</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"phoiblespace"</span>, seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span></code></pre></div>
<p>When glottodata = “phoible_raw_param_sf”, you can load an sf object of the geographical distribution for all parameter IDs in raw <a href="https://phoible.org/" class="external-link">Phoible</a>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">phoible_raw_param_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"phoible_raw_param_sf"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">phoible_raw_param_sf</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 1 field</span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -175.25 ymin: -55.2748 xmax: 178.33 ymax: 73.1354</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt;                       Parameter ID                       geometry</span></span>
<span><span class="co">#&gt; 1 72FB536ACFF408163656BBCDAFCAC6F6 MULTIPOINT ((36.5721 5.9503...</span></span>
<span><span class="co">#&gt; 2 2F272C9C5FA2DA70706B565B2DC46DE8 MULTIPOINT ((36.5721 5.9503...</span></span>
<span><span class="co">#&gt; 3 B6D180EA250E6FBDE82C3D1F1BB4A39C MULTIPOINT ((-1.33254 6.347...</span></span>
<span><span class="co">#&gt; 4 CB37024CEAE9409F30FC756C0578E93C MULTIPOINT ((-1.33254 6.347...</span></span>
<span><span class="co">#&gt; 5 199408E3D0668F10F475143F0E8CC0CB MULTIPOINT ((10.2267 6.5805...</span></span>
<span><span class="co">#&gt; 6 6DD56E3A80E90C3B1F5AC7AC45CE8180 MULTIPOINT ((-61 -29), (-72...</span></span></code></pre></div>
<p>When glottodata = “phoible_param_sf”, the function first randomly choose only one sample for all the duplicated glottocodes, and then load the geographical distribution for all parameter IDs as an sf object. If you set the value of seed, you can then create a reproducible dataset.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">phoible_param_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"phoible_param_sf"</span>, seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">phoible_param_sf</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 1 field</span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -175.25 ymin: -55.2748 xmax: 178.33 ymax: 73.1354</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt;                       Parameter ID                       geometry</span></span>
<span><span class="co">#&gt; 1 72FB536ACFF408163656BBCDAFCAC6F6 MULTIPOINT ((36.5721 5.9503...</span></span>
<span><span class="co">#&gt; 2 2F272C9C5FA2DA70706B565B2DC46DE8 MULTIPOINT ((36.5721 5.9503...</span></span>
<span><span class="co">#&gt; 3 B6D180EA250E6FBDE82C3D1F1BB4A39C MULTIPOINT ((1.37035 8.8858...</span></span>
<span><span class="co">#&gt; 4 CB37024CEAE9409F30FC756C0578E93C MULTIPOINT ((141.755 -12.39...</span></span>
<span><span class="co">#&gt; 5 199408E3D0668F10F475143F0E8CC0CB MULTIPOINT ((10.2267 6.5805...</span></span>
<span><span class="co">#&gt; 6 6DD56E3A80E90C3B1F5AC7AC45CE8180 MULTIPOINT ((-61 -29), (-72...</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="glottocreate">glottocreate<a class="anchor" aria-label="anchor" href="#glottocreate"></a>
</h2>
<p>You can generate empty data structures that help you to add your own data in a structured way. These data structures can be saved to your local folder by specifying a filename (not demonstrated here).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottocreate.html">glottocreate</a></span><span class="op">(</span>glottocodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yucu1253"</span>, <span class="st">"tani1257"</span><span class="op">)</span>, variables <span class="op">=</span> <span class="fl">3</span>, meta <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt;   glottocode var001 var002 var003</span></span>
<span><span class="co">#&gt; 1   yucu1253     NA     NA     NA</span></span>
<span><span class="co">#&gt; 2   tani1257     NA     NA     NA</span></span></code></pre></div>
<p>We’ve specified meta = FALSE, to indicate that we want to generate a ‘flat’ glottodata table. However, when creating glottodata, by default, several meta tables are included:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottodata_meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottocreate.html">glottocreate</a></span><span class="op">(</span>glottocodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yucu1253"</span>, <span class="st">"tani1257"</span><span class="op">)</span>, variables <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glottodata_meta</span><span class="op">)</span></span>
<span><span class="co">#&gt;              Length Class      Mode</span></span>
<span><span class="co">#&gt; glottodata    4     data.frame list</span></span>
<span><span class="co">#&gt; structure     6     data.frame list</span></span>
<span><span class="co">#&gt; description  11     data.frame list</span></span>
<span><span class="co">#&gt; references    9     data.frame list</span></span>
<span><span class="co">#&gt; remarks       5     data.frame list</span></span>
<span><span class="co">#&gt; contributors  5     data.frame list</span></span>
<span><span class="co">#&gt; sample        3     data.frame list</span></span>
<span><span class="co">#&gt; readme        2     data.frame list</span></span>
<span><span class="co">#&gt; lookup        2     data.frame list</span></span></code></pre></div>
<p>The majority of these meta tables are added for the convenience of the user. The ‘structure’ and ‘sample’ tables are the only ones that are required for some of the functions in the glottospace package. A structure table can also be added later:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="st">"demodata"</span>, meta <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">structure</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottocreate_structuretable.html">glottocreate_structuretable</a></span><span class="op">(</span>varnames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"var001"</span>, <span class="st">"var002"</span>, <span class="st">"var003"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottocreate_addtable.html">glottocreate_addtable</a></span><span class="op">(</span><span class="va">glottodata</span>, <span class="va">structure</span>, name <span class="op">=</span> <span class="st">"structure"</span><span class="op">)</span></span></code></pre></div>
<p>More complex glottodata structures can also be generated. For example, in cases where you want to distinguish between groups within each language.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Instead of creating a single table for all languages, you might want to create a list of tables (one table for each language)</span></span>
<span><span class="fu"><a href="reference/glottocreate.html">glottocreate</a></span><span class="op">(</span>glottocodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yucu1253"</span>, <span class="st">"tani1257"</span><span class="op">)</span>, </span>
<span>                     variables <span class="op">=</span> <span class="fl">3</span>, groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>, n <span class="op">=</span> <span class="fl">2</span>, meta <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; $yucu1253</span></span>
<span><span class="co">#&gt;     glottosubcode var001 var002 var003</span></span>
<span><span class="co">#&gt; 1 yucu1253_a_0001     NA     NA     NA</span></span>
<span><span class="co">#&gt; 2 yucu1253_a_0002     NA     NA     NA</span></span>
<span><span class="co">#&gt; 3 yucu1253_b_0001     NA     NA     NA</span></span>
<span><span class="co">#&gt; 4 yucu1253_b_0002     NA     NA     NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $tani1257</span></span>
<span><span class="co">#&gt;     glottosubcode var001 var002 var003</span></span>
<span><span class="co">#&gt; 1 tani1257_a_0001     NA     NA     NA</span></span>
<span><span class="co">#&gt; 2 tani1257_a_0002     NA     NA     NA</span></span>
<span><span class="co">#&gt; 3 tani1257_b_0001     NA     NA     NA</span></span>
<span><span class="co">#&gt; 4 tani1257_b_0002     NA     NA     NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "glottosubdata" "list"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="glottocheck">glottocheck<a class="anchor" aria-label="anchor" href="#glottocheck"></a>
</h2>
<p>If you have your own data, you might want to do some interactive quality checks:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="st">"demodata"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/glottocheck.html">glottocheck</a></span><span class="op">(</span><span class="va">glottodata</span>, diagnostic <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; No missing IDs</span></span>
<span><span class="co">#&gt; No duplicate IDs.</span></span>
<span><span class="co">#&gt; All variables have two or more levels (excluding NA)</span></span>
<span><span class="co">#&gt; Checking 6 glottocodes...</span></span>
<span><span class="co">#&gt; All IDs are valid glottocodes</span></span>
<span><span class="co">#&gt; Some columns have missing data.</span></span>
<span><span class="co">#&gt; Some rows have missing data.</span></span>
<span><span class="co">#&gt; glottodata does not contain metadata</span></span></code></pre></div>
<p>We’ve now specified diagnostic = FALSE, but the default is to show some more extensive diagnostics (like a data coverage plot).</p>
<p>You can also check the metadata:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"demodata"</span>, meta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/glottocheck.html">glottocheck</a></span><span class="op">(</span><span class="va">glottodata</span>, checkmeta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; No missing IDs</span></span>
<span><span class="co">#&gt; No duplicate IDs.</span></span>
<span><span class="co">#&gt; All variables have two or more levels (excluding NA)</span></span>
<span><span class="co">#&gt; Checking 6 glottocodes...</span></span>
<span><span class="co">#&gt; All IDs are valid glottocodes</span></span>
<span><span class="co">#&gt; Some columns have missing data.</span></span>
<span><span class="co">#&gt;       var001</span></span>
<span><span class="co">#&gt; count      1</span></span>
<span><span class="co">#&gt; Some rows have missing data.</span></span>
<span><span class="co">#&gt;          count</span></span>
<span><span class="co">#&gt; tani1257     1</span></span>
<span><span class="co">#&gt; This glottodataset contains the folowing tables: glottodata, structure, description, references, remarks, contributors, sample, readme, lookup</span></span>
<span><span class="co">#&gt; All types recognized</span></span>
<span><span class="co">#&gt; All weights are specified</span></span>
<span><span class="co">#&gt; The following variables are in the data, but there are no such columns variables defined in the structure table: glottocode</span></span>
<span><span class="co">#&gt;  Please check whether the spelling is identical, remove the rows from the structure table, or add the columns to the data.</span></span></code></pre></div>
<p><img src="reference/figures/README-glottocheckmeta-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="glottoclean">glottoclean<a class="anchor" aria-label="anchor" href="#glottoclean"></a>
</h2>
<p>Once you’ve loaded glottodata, you might encounter some inconsistencies. For example, data-contributors might not have used a standardized way of coding missing values.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"demodata"</span>, meta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">glottodata_clean</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoclean.html">glottoclean</a></span><span class="op">(</span><span class="va">glottodata</span><span class="op">)</span></span>
<span><span class="co">#&gt; Values in binary columns (symm/asymm) recoded to TRUE/FALSE</span></span>
<span><span class="co">#&gt; Missing values recoded to NA</span></span>
<span><span class="co">#&gt; All variables have two or more levels (excluding NA)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  glottodata has been cleaned.</span></span>
<span></span>
<span><span class="va">glottodata</span><span class="op">$</span><span class="va">glottodata</span></span>
<span><span class="co">#&gt;   glottocode var001 var002 var003</span></span>
<span><span class="co">#&gt; 1   yucu1253      Y      a      N</span></span>
<span><span class="co">#&gt; 2   tani1257   &lt;NA&gt;      b      Y</span></span>
<span><span class="co">#&gt; 3   ticu1245      Y      a      Y</span></span>
<span><span class="co">#&gt; 4   orej1242      N      b      N</span></span>
<span><span class="co">#&gt; 5   nade1244      N      c      Y</span></span>
<span><span class="co">#&gt; 6   mara1409      N      a      N</span></span>
<span><span class="va">glottodata_clean</span><span class="op">$</span><span class="va">glottodata</span></span>
<span><span class="co">#&gt;   glottocode var001 var002 var003</span></span>
<span><span class="co">#&gt; 1   yucu1253   TRUE      a  FALSE</span></span>
<span><span class="co">#&gt; 2   tani1257     NA      b   TRUE</span></span>
<span><span class="co">#&gt; 3   ticu1245   TRUE      a   TRUE</span></span>
<span><span class="co">#&gt; 4   orej1242  FALSE      b  FALSE</span></span>
<span><span class="co">#&gt; 5   nade1244  FALSE      c   TRUE</span></span>
<span><span class="co">#&gt; 6   mara1409  FALSE      a  FALSE</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="glottojoin-and-glottosimplify">glottojoin and glottosimplify<a class="anchor" aria-label="anchor" href="#glottojoin-and-glottosimplify"></a>
</h2>
<p>Join user-provided glottodata with other datasets, or with online databases.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Join with glottospace</span></span>
<span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="st">"demodata"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add data from glottolog:</span></span>
<span><span class="fu"><a href="reference/glottojoin.html">glottojoin</a></span><span class="op">(</span><span class="va">glottodata</span>, with <span class="op">=</span> <span class="st">"glottobase"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 21 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -72.4926 ymin: -3.66289 xmax: -66.3068 ymax: -0.59023</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt;   glottocode var001 var002 var003             name     macroarea isocode</span></span>
<span><span class="co">#&gt; 1   yucu1253      Y      a      N           Yucuna South America     ycn</span></span>
<span><span class="co">#&gt; 2   tani1257   &lt;NA&gt;      b      Y Tanimuca-Retuarã South America     tnc</span></span>
<span><span class="co">#&gt; 3   ticu1245      Y      a      Y           Ticuna South America     tca</span></span>
<span><span class="co">#&gt; 4   orej1242      N      b      N          Maijiki South America     ore</span></span>
<span><span class="co">#&gt; 5   nade1244      N      c      Y            Nadëb South America     mbj</span></span>
<span><span class="co">#&gt; 6   mara1409      N      a      N          Maragua South America        </span></span>
<span><span class="co">#&gt;   countries family_id                      classification parent_id      family</span></span>
<span><span class="co">#&gt; 1  BR;CO;PE  araw1281 araw1281/japu1236/nucl1764/yucu1252  yucu1252    Arawakan</span></span>
<span><span class="co">#&gt; 2        CO  tuca1253          tuca1253/east2698/sout3144  sout3144    Tucanoan</span></span>
<span><span class="co">#&gt; 3  BR;CO;PE  ticu1244                            ticu1244  ticu1244 Ticuna-Yuri</span></span>
<span><span class="co">#&gt; 4        PE  tuca1253          tuca1253/west2784/napo1243  napo1243    Tucanoan</span></span>
<span><span class="co">#&gt; 5        BR  nada1235                            nada1235  nada1235     Naduhup</span></span>
<span><span class="co">#&gt; 6        BR  araw1281          araw1281/cari1281/anti1247  anti1247    Arawakan</span></span>
<span><span class="co">#&gt;   isolate family_size family_size_rank  country sovereignty              type</span></span>
<span><span class="co">#&gt; 1   FALSE          77               42 Colombia    Colombia Sovereign country</span></span>
<span><span class="co">#&gt; 2   FALSE          26               22 Colombia    Colombia Sovereign country</span></span>
<span><span class="co">#&gt; 3   FALSE           2                2 Colombia    Colombia Sovereign country</span></span>
<span><span class="co">#&gt; 4   FALSE          26               22     Peru        Peru Sovereign country</span></span>
<span><span class="co">#&gt; 5   FALSE           4                4   Brazil      Brazil Sovereign country</span></span>
<span><span class="co">#&gt; 6   FALSE          77               42   Brazil      Brazil Sovereign country</span></span>
<span><span class="co">#&gt;    geounit     continent adm0_a3                  geometry</span></span>
<span><span class="co">#&gt; 1 Colombia South America     COL POINT (-71.0033 -0.76075)</span></span>
<span><span class="co">#&gt; 2 Colombia South America     COL POINT (-70.3853 -0.59023)</span></span>
<span><span class="co">#&gt; 3 Colombia South America     COL POINT (-69.8723 -3.66289)</span></span>
<span><span class="co">#&gt; 4     Peru South America     PER POINT (-72.4926 -2.86315)</span></span>
<span><span class="co">#&gt; 5   Brazil South America     BRA POINT (-66.3068 -1.24449)</span></span>
<span><span class="co">#&gt; 6   Brazil South America     BRA      POINT (-67.51282 -3)</span></span>
<span></span>
<span><span class="co"># Simplify glottosubdata (join a list of glottodata tables into a single table)</span></span>
<span><span class="va">glottosubdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottocreate.html">glottocreate</a></span><span class="op">(</span>glottocodes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yucu1253"</span>, <span class="st">"tani1257"</span><span class="op">)</span>, </span>
<span>                                       variables <span class="op">=</span> <span class="fl">3</span>, groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span>, n <span class="op">=</span> <span class="fl">2</span>, meta <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/glottosimplify.html">glottosimplify</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="va">glottosubdata</span><span class="op">)</span></span>
<span><span class="co">#&gt;     glottosubcode var001 var002 var003</span></span>
<span><span class="co">#&gt; 1 yucu1253_a_0001     NA     NA     NA</span></span>
<span><span class="co">#&gt; 2 yucu1253_a_0002     NA     NA     NA</span></span>
<span><span class="co">#&gt; 3 yucu1253_b_0001     NA     NA     NA</span></span>
<span><span class="co">#&gt; 4 yucu1253_b_0002     NA     NA     NA</span></span>
<span><span class="co">#&gt; 5 tani1257_a_0001     NA     NA     NA</span></span>
<span><span class="co">#&gt; 6 tani1257_a_0002     NA     NA     NA</span></span>
<span><span class="co">#&gt; 7 tani1257_b_0001     NA     NA     NA</span></span>
<span><span class="co">#&gt; 8 tani1257_b_0002     NA     NA     NA</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="glottosearch">glottosearch<a class="anchor" aria-label="anchor" href="#glottosearch"></a>
</h2>
<p>As demonstrated in the example above, you can search glottodata for a specific search term</p>
<p>You can search for a match in all columns:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottosearch.html">glottosearch</a></span><span class="op">(</span>search <span class="op">=</span> <span class="st">"yurakar"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 18 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -65.1224 ymin: -16.7479 xmax: -65.1224 ymax: -16.7479</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt;      glottocode     name     macroarea isocode countries family_id</span></span>
<span><span class="co">#&gt; 7555   yura1255 Yuracaré South America     yuz        BO  yura1255</span></span>
<span><span class="co">#&gt;      classification parent_id   family isolate family_size family_size_rank</span></span>
<span><span class="co">#&gt; 7555           &lt;NA&gt;      &lt;NA&gt; Yuracaré    TRUE           1                1</span></span>
<span><span class="co">#&gt;      country sovereignty              type geounit     continent adm0_a3</span></span>
<span><span class="co">#&gt; 7555 Bolivia     Bolivia Sovereign country Bolivia South America     BOL</span></span>
<span><span class="co">#&gt;                       geometry</span></span>
<span><span class="co">#&gt; 7555 POINT (-65.1224 -16.7479)</span></span></code></pre></div>
<p>Or limit the search to specific columns:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottosearch.html">glottosearch</a></span><span class="op">(</span>search <span class="op">=</span> <span class="st">"Yucuni"</span>, columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"family"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 2 features and 18 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -97.91818 ymin: -0.76075 xmax: -71.0033 ymax: 17.23743</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt;      glottocode              name     macroarea isocode countries family_id</span></span>
<span><span class="co">#&gt; 7541   yucu1253            Yucuna South America     ycn  BR;CO;PE  araw1281</span></span>
<span><span class="co">#&gt; 7542   yucu1254 Yucunicoco Mixtec North America                MX  otom1299</span></span>
<span><span class="co">#&gt;                                                      classification parent_id</span></span>
<span><span class="co">#&gt; 7541                            araw1281/japu1236/nucl1764/yucu1252  yucu1252</span></span>
<span><span class="co">#&gt; 7542 otom1299/east2557/amuz1253/mixt1422/mixt1423/mixt1427/sout3179  sout3179</span></span>
<span><span class="co">#&gt;           family isolate family_size family_size_rank  country sovereignty</span></span>
<span><span class="co">#&gt; 7541    Arawakan   FALSE          77               42 Colombia    Colombia</span></span>
<span><span class="co">#&gt; 7542 Otomanguean   FALSE         181               46   Mexico      Mexico</span></span>
<span><span class="co">#&gt;                   type  geounit     continent adm0_a3</span></span>
<span><span class="co">#&gt; 7541 Sovereign country Colombia South America     COL</span></span>
<span><span class="co">#&gt; 7542 Sovereign country   Mexico North America     MEX</span></span>
<span><span class="co">#&gt;                        geometry</span></span>
<span><span class="co">#&gt; 7541  POINT (-71.0033 -0.76075)</span></span>
<span><span class="co">#&gt; 7542 POINT (-97.91818 17.23743)</span></span></code></pre></div>
<p>Sometimes you don’t find a match:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottosearch.html">glottosearch</a></span><span class="op">(</span>search <span class="op">=</span> <span class="st">"matsigenka"</span><span class="op">)</span><span class="op">[</span>,<span class="st">"name"</span><span class="op">]</span></span>
<span><span class="co">#&gt; Simple feature collection with 0 features and 1 field</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: NA ymin: NA xmax: NA ymax: NA</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; [1] name     geometry</span></span>
<span><span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></span></code></pre></div>
<p>If you can’t find what you’re looking for, you can increase the tolerance:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottosearch.html">glottosearch</a></span><span class="op">(</span>search <span class="op">=</span> <span class="st">"matsigenka"</span>, tolerance <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span><span class="op">[</span>,<span class="st">"name"</span><span class="op">]</span></span>
<span><span class="co">#&gt; Simple feature collection with 1 feature and 1 field</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -74.4371 ymin: -11.5349 xmax: -74.4371 ymax: -11.5349</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt;               name                  geometry</span></span>
<span><span class="co">#&gt; 4787 Nomatsiguenga POINT (-74.4371 -11.5349)</span></span></code></pre></div>
<p>Aha! There it is: ‘Machiguenga’</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottosearch.html">glottosearch</a></span><span class="op">(</span>search <span class="op">=</span> <span class="st">"matsigenka"</span>, tolerance <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span><span class="op">[</span>,<span class="st">"name"</span><span class="op">]</span></span>
<span><span class="co">#&gt; Simple feature collection with 12 features and 1 field</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -74.4371 ymin: -14.9959 xmax: 166.738 ymax: 13.5677</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; First 10 features:</span></span>
<span><span class="co">#&gt;                    name                   geometry</span></span>
<span><span class="co">#&gt; 1710 Eastern Maninkakan   POINT (-10.5394 9.33048)</span></span>
<span><span class="co">#&gt; 3063    Kita Maninkakan   POINT (-9.49151 13.1798)</span></span>
<span><span class="co">#&gt; 3147   Konyanka Maninka   POINT (-8.89972 8.04788)</span></span>
<span><span class="co">#&gt; 3731   Maasina Fulfulde   POINT (-3.64763 11.1324)</span></span>
<span><span class="co">#&gt; 3747        Machiguenga  POINT (-72.5017 -12.1291)</span></span>
<span><span class="co">#&gt; 3901           Mandinka POINT (-15.65395 12.81652)</span></span>
<span><span class="co">#&gt; 3937          Mansoanka   POINT (-15.9202 12.8218)</span></span>
<span><span class="co">#&gt; 4040  Matigsalug Manobo     POINT (125.16 7.72124)</span></span>
<span><span class="co">#&gt; 4787      Nomatsiguenga  POINT (-74.4371 -11.5349)</span></span>
<span><span class="co">#&gt; 5383         Piamatsina   POINT (166.738 -14.9959)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="glottofilter">glottofilter<a class="anchor" aria-label="anchor" href="#glottofilter"></a>
</h2>
<p>filter, select, query</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eurasia</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>continent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Europe"</span>, <span class="st">"Asia"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">eurasia</span></span>
<span><span class="co">#&gt; Simple feature collection with 2583 features and 18 fields</span></span>
<span><span class="co">#&gt; Geometry type: POINT</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -173.925 ymin: -10.8469 xmax: 175.07 ymax: 73.1354</span></span>
<span><span class="co">#&gt; Geodetic CRS:  WGS 84</span></span>
<span><span class="co">#&gt; First 10 features:</span></span>
<span><span class="co">#&gt;    glottocode                   name macroarea isocode countries family_id</span></span>
<span><span class="co">#&gt; 1    abai1240            Abai Sungai Papunesia     abf        MY  aust1307</span></span>
<span><span class="co">#&gt; 2    abai1241 Abai Tubu-Abai Sembuak Papunesia                ID  aust1307</span></span>
<span><span class="co">#&gt; 3    abaz1241                  Abaza   Eurasia     abq     RU;TR  abkh1242</span></span>
<span><span class="co">#&gt; 4    aben1249           Abenlen Ayta Papunesia     abp        PH  aust1307</span></span>
<span><span class="co">#&gt; 5    abin1243                Abinomn Papunesia     bsa        ID  abin1243</span></span>
<span><span class="co">#&gt; 6    abkh1244                 Abkhaz   Eurasia     abk  GE;RU;TR  abkh1242</span></span>
<span><span class="co">#&gt; 7    abui1241                   Abui Papunesia     abz        ID  timo1261</span></span>
<span><span class="co">#&gt; 8    abun1252                   Abun Papunesia     kgr        ID  abun1252</span></span>
<span><span class="co">#&gt; 9    acha1249       Longchuan Achang   Eurasia     acn     CN;MM  sino1245</span></span>
<span><span class="co">#&gt; 10   ache1244                   Ache   Eurasia     yif        CN  sino1245</span></span>
<span><span class="co">#&gt;                                                             classification</span></span>
<span><span class="co">#&gt; 1                    aust1307/mala1545/nort3253/sout3154/grea1293/pait1248</span></span>
<span><span class="co">#&gt; 2                    aust1307/mala1545/nort3253/sout3154/grea1294/muru1275</span></span>
<span><span class="co">#&gt; 3                                                        abkh1242/abkh1243</span></span>
<span><span class="co">#&gt; 4                             aust1307/mala1545/cent2080/samb1319/abel1234</span></span>
<span><span class="co">#&gt; 5                                                                     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6                                                        abkh1242/abkh1243</span></span>
<span><span class="co">#&gt; 7                                               timo1261/alor1249/alor1250</span></span>
<span><span class="co">#&gt; 8                                                                     &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 9                    sino1245/burm1265/lolo1265/burm1266/sout3159/acha1252</span></span>
<span><span class="co">#&gt; 10 sino1245/burm1265/lolo1265/lolo1267/nili1235/sout3212/niso1234/uncl1517</span></span>
<span><span class="co">#&gt;    parent_id            family isolate family_size family_size_rank     country</span></span>
<span><span class="co">#&gt; 1   pait1248      Austronesian   FALSE        1271               52    Malaysia</span></span>
<span><span class="co">#&gt; 2   muru1275      Austronesian   FALSE        1271               52   Indonesia</span></span>
<span><span class="co">#&gt; 3   abkh1243      Abkhaz-Adyge   FALSE           5                5      Russia</span></span>
<span><span class="co">#&gt; 4   abel1234      Austronesian   FALSE        1271               52 Philippines</span></span>
<span><span class="co">#&gt; 5       &lt;NA&gt;           Abinomn    TRUE           1                1   Indonesia</span></span>
<span><span class="co">#&gt; 6   abkh1243      Abkhaz-Adyge   FALSE           5                5     Georgia</span></span>
<span><span class="co">#&gt; 7   alor1250 Timor-Alor-Pantar   FALSE          23               20   Indonesia</span></span>
<span><span class="co">#&gt; 8       &lt;NA&gt;              Abun    TRUE           1                1   Indonesia</span></span>
<span><span class="co">#&gt; 9   acha1252      Sino-Tibetan   FALSE         501               50       China</span></span>
<span><span class="co">#&gt; 10  uncl1517      Sino-Tibetan   FALSE         501               50       China</span></span>
<span><span class="co">#&gt;    sovereignty              type     geounit continent adm0_a3</span></span>
<span><span class="co">#&gt; 1     Malaysia Sovereign country    Malaysia      Asia     MYS</span></span>
<span><span class="co">#&gt; 2    Indonesia Sovereign country   Indonesia      Asia     IDN</span></span>
<span><span class="co">#&gt; 3       Russia Sovereign country      Russia    Europe     RUS</span></span>
<span><span class="co">#&gt; 4  Philippines Sovereign country Philippines      Asia     PHL</span></span>
<span><span class="co">#&gt; 5    Indonesia Sovereign country   Indonesia      Asia     IDN</span></span>
<span><span class="co">#&gt; 6      Georgia          Geo unit     Georgia      Asia     GEO</span></span>
<span><span class="co">#&gt; 7    Indonesia Sovereign country   Indonesia      Asia     IDN</span></span>
<span><span class="co">#&gt; 8    Indonesia Sovereign country   Indonesia      Asia     IDN</span></span>
<span><span class="co">#&gt; 9        China           Country       China      Asia     CHN</span></span>
<span><span class="co">#&gt; 10       China           Country       China      Asia     CHN</span></span>
<span><span class="co">#&gt;                     geometry</span></span>
<span><span class="co">#&gt; 1    POINT (118.306 5.55394)</span></span>
<span><span class="co">#&gt; 2  POINT (116.1625 3.524226)</span></span>
<span><span class="co">#&gt; 3           POINT (42 44.25)</span></span>
<span><span class="co">#&gt; 4      POINT (120.2 15.4131)</span></span>
<span><span class="co">#&gt; 5   POINT (138.891 -2.92281)</span></span>
<span><span class="co">#&gt; 6  POINT (41.15911 43.05622)</span></span>
<span><span class="co">#&gt; 7   POINT (124.588 -8.31058)</span></span>
<span><span class="co">#&gt; 8   POINT (132.416 -0.57073)</span></span>
<span><span class="co">#&gt; 9    POINT (97.7438 24.3479)</span></span>
<span><span class="co">#&gt; 10    POINT (102.446 24.152)</span></span>
<span></span>
<span><span class="co"># Other examples of glottofilter:</span></span>
<span><span class="va">wari</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>glottocode <span class="op">=</span> <span class="st">"wari1268"</span><span class="op">)</span></span>
<span><span class="va">indo_european</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">'Indo-European'</span><span class="op">)</span></span>
<span><span class="va">south_america</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>continent <span class="op">=</span> <span class="st">"South America"</span><span class="op">)</span></span>
<span><span class="va">colovenz</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Colombia"</span>, <span class="st">"Venezuela"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">arawtuca</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>expression <span class="op">=</span> <span class="va">family</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Arawakan"</span>, <span class="st">"Tucanoan"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>You can also interactively filter languages by drawing or clicking on a map:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># selected &lt;- glottofiltermap(continent = "South America")</span></span>
<span><span class="co"># glottomap(selected)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="glottodist">glottodist<a class="anchor" aria-label="anchor" href="#glottodist"></a>
</h2>
<p>Quantify differences or disimilarities between languages glottodistances: calculating disimilarities between languages based on linguistic/cultural features.</p>
<p>The <code>glottodist</code> can compute two types of distance/dissimilarity by setting the argument <code>metric</code>. When <code>metric="gower"</code>, it returns the Gower distance, when <code>metric="anderberg"</code>, it returns the Anderberg dissimarity. The default value is <code>metric="gower"</code>.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In order to be able to calculate linguistic distances a structure table is required, that's why we specify meta = TRUE. In case you have glottodata without a structure table, you can add it (see examples in the  glottocreate() section).</span></span>
<span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="st">"demodata"</span>, meta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">glottodist_gower</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottodist.html">glottodist</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="va">glottodata</span>, metric <span class="op">=</span> <span class="st">"gower"</span><span class="op">)</span></span>
<span><span class="va">glottodist_anderberg</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottodist.html">glottodist</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="va">glottodata</span>, metric <span class="op">=</span> <span class="st">"anderberg"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="glottodist_subdata">glottodist_subdata<a class="anchor" aria-label="anchor" href="#glottodist_subdata"></a>
</h2>
<p>You can also compute the differences or disimilarities between languages based on constructions. The function <code>glottodist_subdata</code> contains three types of disimilarities, i.e., “Matching Constructions Index (MCI)”, “Relative Index (RI)”, and “Form-Meaning Index (FMI)” based on either gower distance or Anderberg distance.</p>
<p>For example, suppose if the language “tani1257” contains three constructions “tani1257_0001”, “tani1257_0002”, “tani1257_0003”, and the language “yucu1253” contains two constructions “yucu1253_0001”, “yucu1253_0002”.</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="21%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">glottosubcode</th>
<th align="right">var001</th>
<th align="right">var002</th>
<th align="right">var003</th>
<th align="right">var004</th>
<th align="right">var005</th>
<th align="right">var006</th>
<th align="right">var007</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">tani1257_0001</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">tani1257_0002</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">tani1257_0003</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<table style="width:100%;" class="table">
<colgroup>
<col width="21%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">glottosubcode</th>
<th align="right">var001</th>
<th align="right">var002</th>
<th align="right">var003</th>
<th align="right">var004</th>
<th align="right">var005</th>
<th align="right">var006</th>
<th align="right">var007</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">yucu1253_0001</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">yucu1253_0002</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>The Matching Constructions Index of tani1257 and yucu1253 w.r.t. gower distance is given by</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"demosubdata_cnstn"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/glottodist_subdata.html">glottodist_subdata</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"gower"</span>, index_type <span class="op">=</span> <span class="st">"mci"</span><span class="op">)</span> </span>
<span><span class="co">#&gt;           tani1257</span></span>
<span><span class="co">#&gt; yucu1253 0.1071429</span></span></code></pre></div>
<p>If the meaning features are “var001”, “var002”, “var003”, “var004”, and the form features are “var005”, “var006”, “var007”, the Atomic Meaning Index of tani1257 and yucu1253 w.r.t. gower distance is given by</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"demosubdata_cnstn"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/glottodist_subdata.html">glottodist_subdata</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"gower"</span>, index_type <span class="op">=</span> <span class="st">"ri"</span>,</span>
<span>                     avg_idx <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, fixed_idx <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span></span>
<span><span class="co">#&gt;          tani1257</span></span>
<span><span class="co">#&gt; yucu1253    0.125</span></span></code></pre></div>
<p>and the Atomic Form Index of tani1257 and yucu1253 w.r.t. gower distance is given by</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"demosubdata_cnstn"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/glottodist_subdata.html">glottodist_subdata</a></span><span class="op">(</span>metric <span class="op">=</span> <span class="st">"gower"</span>, index_type <span class="op">=</span> <span class="st">"ri"</span>,</span>
<span>                     avg_idx <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">7</span>, fixed_idx <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="co">#&gt;          tani1257</span></span>
<span><span class="co">#&gt; yucu1253     0.25</span></span></code></pre></div>
<p>and the Form-Meaning Index is given by</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="st">"demosubdata_cnstn"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="reference/glottodist_subdata.html">glottodist_subdata</a></span><span class="op">(</span>index_type <span class="op">=</span> <span class="st">"fmi"</span>,</span>
<span>                     avg_idx <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, fixed_idx <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span></span>
<span><span class="co">#&gt;            tani1257</span></span>
<span><span class="co">#&gt; yucu1253 0.08333333</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="glottoplot">glottoplot<a class="anchor" aria-label="anchor" href="#glottoplot"></a>
</h2>
<p>Visualizing differences (distances) between languages based on linguistic, cultural, and environmental features.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="st">"demodata"</span>, meta <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">glottodist</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottodist.html">glottodist</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="va">glottodata</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/glottoplot.html">glottoplot</a></span><span class="op">(</span>glottodist <span class="op">=</span> <span class="va">glottodist</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-glottoplot-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="glottospace">glottospace<a class="anchor" aria-label="anchor" href="#glottospace"></a>
</h2>
<p>This family of functions turns glottodata into a spatial object. As we’ve illustrated above, these can be either glottopoints or glottopols</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="st">"demodata"</span><span class="op">)</span></span>
<span><span class="va">glottospacedata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottospace.html">glottospace</a></span><span class="op">(</span><span class="va">glottodata</span>, method <span class="op">=</span> <span class="st">"buffer"</span>, radius <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; Buffer created with a radius of 5 km.</span></span>
<span><span class="co"># By default, the projection of maps is equal area, and shape is not preserved:</span></span>
<span><span class="fu"><a href="reference/glottomap.html">glottomap</a></span><span class="op">(</span><span class="va">glottospacedata</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout</span></span>
<span><span class="co">#&gt; all geometries</span></span></code></pre></div>
<p><img src="reference/figures/README-glottospace-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="glottomap">glottomap<a class="anchor" aria-label="anchor" href="#glottomap"></a>
</h2>
<p>With glottomap you can quickly visualize the location of languages. Below we show simple static maps, but you can also create dynamic maps by specifying type = “dynamic”.</p>
<p>To select languages, you don’t need to call glottofilter() first, but you can use glottomap() directly. Behind the scenes glottomap() passes those arguments on to glottofilter().</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/glottomap.html">glottomap</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"Colombia"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout</span></span>
<span><span class="co">#&gt; all geometries</span></span></code></pre></div>
<p><img src="reference/figures/README-glottomap-1.png" width="100%"></p>
<p>However, you can also create maps with other glottodata. For example, we might want to create a world map highlighting the largest language families</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">families</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">glottodata</span>, <span class="va">family</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># highlight 5 largest families:</span></span>
<span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottospotlight.html">glottospotlight</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="va">glottodata</span>, spotcol <span class="op">=</span> <span class="st">"family"</span>, spotlight <span class="op">=</span> <span class="va">families</span><span class="op">$</span><span class="va">family</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, spotcontrast <span class="op">=</span> <span class="st">"family"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create map</span></span>
<span><span class="fu"><a href="reference/glottomap.html">glottomap</a></span><span class="op">(</span><span class="va">glottodata</span>, color <span class="op">=</span> <span class="st">"legend"</span>, glotto_title <span class="op">=</span> <span class="st">"Top 5 largest languages families"</span>, ptsize<span class="op">=</span><span class="fl">.3</span>, </span>
<span>          palette <span class="op">=</span> <span class="st">"Set 1"</span>, alpha <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout</span></span>
<span><span class="co">#&gt; all geometries</span></span></code></pre></div>
<p><img src="reference/figures/README-glottomap_family_size-1.png" width="100%"></p>
<p>You can also produce maps based on either countries or hydro-basins. The hydro-basin basemap is cited from <a href="https://www.hydrosheds.org/" class="external-link">HydroSHEDS</a> of Level 03.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">.1</span>, <span class="fl">.1</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">## Filter by continent</span></span>
<span><span class="va">glottopoints</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>continent <span class="op">=</span> <span class="st">"South America"</span><span class="op">)</span></span>
<span><span class="co">## Sort the families</span></span>
<span><span class="va">families</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">glottopoints</span>, <span class="va">family</span>, sort <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Plot the top 5 languages based on countries</span></span>
<span><span class="fu"><a href="reference/glottomap.html">glottomap</a></span><span class="op">(</span><span class="va">glottopoints</span><span class="op">[</span><span class="va">glottopoints</span><span class="op">$</span><span class="va">family</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">families</span><span class="op">$</span><span class="va">family</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="op">]</span>, basemap <span class="op">=</span> <span class="st">"country"</span>, </span>
<span>          color <span class="op">=</span> <span class="st">"family"</span>, palette <span class="op">=</span> <span class="st">"paired"</span>, alpha <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout</span></span>
<span><span class="co">#&gt; all geometries</span></span>
<span></span>
<span><span class="co">## Plot the top 5 languages based on hydro-basins</span></span>
<span><span class="fu"><a href="reference/glottomap.html">glottomap</a></span><span class="op">(</span><span class="va">glottopoints</span><span class="op">[</span><span class="va">glottopoints</span><span class="op">$</span><span class="va">family</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">families</span><span class="op">$</span><span class="va">family</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span>, <span class="op">]</span>, basemap <span class="op">=</span> <span class="st">"hydro-basin"</span>, </span>
<span>          color <span class="op">=</span> <span class="st">"family"</span>, palette <span class="op">=</span> <span class="st">"paired"</span>, alpha <span class="op">=</span> <span class="fl">.9</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout</span></span>
<span><span class="co">#&gt; all geometries</span></span></code></pre></div>
<p><img src="reference/figures/README-figures-side-1.png" width="50%"><img src="reference/figures/README-figures-side-2.png" width="50%"></p>
</div>
<div class="section level2">
<h2 id="glottomap_rips_filt">glottomap_rips_filt<a class="anchor" aria-label="anchor" href="#glottomap_rips_filt"></a>
</h2>
<p>You can visualize the topological pattern of spatial distribution of languages using function <code><a href="reference/glottomap_rips_filt.html">glottomap_rips_filt()</a></code>. More technically, this method of visualization is referred to as <a href="https://en.wikipedia.org/wiki/Vietoris%E2%80%93Rips_filtration" class="external-link">“Vietoris-Rips filtration”</a>. In the function <code><a href="reference/glottomap_rips_filt.html">glottomap_rips_filt()</a></code>, the default units of <code>r</code> and <code>maxscale</code> are both 100km, corresponding to the buffer radius of each language and the maximum value of the Vietoris-Rips filtration respectively.</p>
<p>For example, if we filter out the languages of Arawakan family, and set the buffer radius of each language as 600 km, the maximum value of the Vietoris-Rips filtration as 1500 km, we can see that there is a circluar structure around the borders of Colombia, Peru and Brazil:</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pick up all the Arawakan languages</span></span>
<span><span class="va">glottopoints</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>continent <span class="op">=</span> <span class="st">"South America"</span><span class="op">)</span></span>
<span><span class="va">awk</span> <span class="op">&lt;-</span> <span class="va">glottopoints</span><span class="op">[</span><span class="va">glottopoints</span><span class="op">$</span><span class="va">family</span> <span class="op">==</span> <span class="st">"Arawakan"</span>, <span class="op">]</span> </span>
<span></span>
<span><span class="co"># Create a static Vietoris-Rips filtration map </span></span>
<span><span class="fu"><a href="reference/glottomap_rips_filt.html">glottomap_rips_filt</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="va">awk</span>, r <span class="op">=</span> <span class="fl">6</span>, maxscale <span class="op">=</span> <span class="fl">15</span>, is_animate <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </span></code></pre></div>
<p><img src="reference/figures/README-glottomap_rips_filt_static-1.png" width="100%"></p>
<p>If you set the the argument <code>is_animate = TRUE</code>, you can then generate a GIF file, here the buffer radius ranges from 0 km to 800 km:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottopoints</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>continent <span class="op">=</span> <span class="st">"South America"</span><span class="op">)</span></span>
<span><span class="co"># Pick up all the Arawakan languages</span></span>
<span><span class="va">awk</span> <span class="op">&lt;-</span> <span class="va">glottopoints</span><span class="op">[</span><span class="va">glottopoints</span><span class="op">$</span><span class="va">family</span> <span class="op">==</span> <span class="st">"Arawakan"</span>, <span class="op">]</span> </span>
<span><span class="co"># Create a GIF file of Vietoris-Rips filtration map </span></span>
<span><span class="fu"><a href="reference/glottomap_rips_filt.html">glottomap_rips_filt</a></span><span class="op">(</span>glottodata <span class="op">=</span> <span class="va">awk</span>, r <span class="op">=</span> <span class="fl">8</span>, maxscale <span class="op">=</span> <span class="fl">15</span>, is_animate <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                    length.out <span class="op">=</span> <span class="fl">30</span>, movie.name <span class="op">=</span> <span class="st">"filtration.gif"</span><span class="op">)</span> </span></code></pre></div>
<center>
<img src="reference/figures/awk_filt.gif" width="75%">
</center>
</div>
<div class="section level2">
<h2 id="glottomap_persist_diagram">glottomap_persist_diagram<a class="anchor" aria-label="anchor" href="#glottomap_persist_diagram"></a>
</h2>
<p>The persistent topological structure (clusters and circular structures) can be described by the so-call <a href="https://ncatlab.org/nlab/show/persistence+diagram#:~:text=Idea,b%20and%20then%20%E2%80%9Cdisappear%E2%80%9D." class="external-link">“persistence diagram”</a>, you can see that there is a unique point of dimension 1 standing out of the diagonal line when “Birth” is around 600 km and “Death” is around 800 km, this is consistent with the precious visualization of Vietoris-Rips filtration:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pick up all the Arawakan languages</span></span>
<span><span class="va">glottopoints</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottofilter.html">glottofilter</a></span><span class="op">(</span>continent <span class="op">=</span> <span class="st">"South America"</span><span class="op">)</span></span>
<span><span class="va">awk</span> <span class="op">&lt;-</span> <span class="va">glottopoints</span><span class="op">[</span><span class="va">glottopoints</span><span class="op">$</span><span class="va">family</span> <span class="op">==</span> <span class="st">"Arawakan"</span>, <span class="op">]</span> </span>
<span></span>
<span><span class="co"># Create a static Vietoris-Rips filtration map </span></span>
<span><span class="fu"><a href="reference/glottomap_persist_diagram.html">glottomap_persist_diagram</a></span><span class="op">(</span><span class="va">awk</span>, maxscale <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-glottomap_persist_diagram-1.png" width="100%"></p>
</div>
<div class="section level2">
<h2 id="glottosave">glottosave<a class="anchor" aria-label="anchor" href="#glottosave"></a>
</h2>
<p>All output generated with the glottospace package (data, figures, maps, etc.) can be saved with a single command.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">glottodata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottoget.html">glottoget</a></span><span class="op">(</span><span class="st">"demodata"</span>, meta <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co"># Saves as .xlsx</span></span>
<span><span class="co"># glottosave(glottodata, filename = "glottodata") </span></span>
<span></span>
<span><span class="co"># Saves as .GPKG</span></span>
<span><span class="va">glottospacedata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottospace.html">glottospace</a></span><span class="op">(</span><span class="va">glottodata</span><span class="op">)</span></span>
<span><span class="co"># glottosave(glottospacedata, filename = "glottospacedata") </span></span>
<span></span>
<span><span class="co"># By default, static maps are saved as .png, dynamic maps are saved as .html</span></span>
<span><span class="va">glottomap</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/glottomap.html">glottomap</a></span><span class="op">(</span><span class="va">glottodata</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: attribute variables are assumed to be spatially constant throughout</span></span>
<span><span class="co">#&gt; all geometries</span></span>
<span><span class="co"># glottosave(glottomap, filename = "glottomap") </span></span></code></pre></div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=glottospace" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/glottospace/glottospace/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/glottospace/glottospace/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing glottospace</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rui Dong <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="https://img.shields.io/badge/lifecycle-stable-brightgreen.svg" alt="Lifecycle: stable"></a></li>
<li><a href="https://www.gnu.org/licenses/gpl-3.0" class="external-link"><img src="https://img.shields.io/badge/License-GPLv3-blue.svg" alt="License: GPL v3"></a></li>
<li><a href="https://github.com/glottospace/glottospace/actions" class="external-link"><img src="https://github.com/glottospace/glottospace/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://joss.theoj.org/papers/c93a1ccb6835a15c6026ea1ddc28b50c" class="external-link"><img src="https://joss.theoj.org/papers/c93a1ccb6835a15c6026ea1ddc28b50c/status.svg" alt="status"></a></li>
<li><a href="https://r-pkg.org/pkg/glottospace" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/glottospace?color=orange" alt="CRAN RStudio mirror downloads"></a></li>
<li><a href="https://github.com/glottospace/glottospace/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/glottospace/glottospace/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Rui Dong.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
